"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3976],{1512:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>l,toc:()=>o});var r=s(4848),i=s(8453);const t={sidebar_position:1},d="SUSE",l={id:"intro",title:"SUSE",description:"\u7db2\u8def\u8a2d\u5b9a",source:"@site/docs/intro.md",sourceDirName:".",slug:"/intro",permalink:"/docs/intro",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/intro.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",next:{title:"TEST",permalink:"/docs/category/test"}},c={},o=[{value:"\u7db2\u8def\u8a2d\u5b9a",id:"\u7db2\u8def\u8a2d\u5b9a",level:2},{value:"\u5b89\u88dd\u5957\u4ef6",id:"\u5b89\u88dd\u5957\u4ef6",level:2},{value:"\u8a3b\u518a",id:"\u8a3b\u518a",level:2},{value:"\u6aa2\u67e5 I/O \u72c0\u614b",id:"\u6aa2\u67e5-io-\u72c0\u614b",level:2},{value:"repo enable",id:"repo-enable",level:2},{value:"\u628a rancher \u52a0\u5165 wheel \u7fa4\u7d44",id:"\u628a-rancher-\u52a0\u5165-wheel-\u7fa4\u7d44",level:2},{value:"\u624b\u52d5\u8a2d\u5b9a\u7db2\u8def config \u6a94",id:"\u624b\u52d5\u8a2d\u5b9a\u7db2\u8def-config-\u6a94",level:2},{value:"kubectl \u88dc\u9f4a",id:"kubectl-\u88dc\u9f4a",level:2},{value:"\u8a2d\u5b9a NTP",id:"\u8a2d\u5b9a-ntp",level:2},{value:"\u5efa\u7acb user",id:"\u5efa\u7acb-user",level:2},{value:"\u5b89\u88dd\u8207\u555f\u7528 openssh",id:"\u5b89\u88dd\u8207\u555f\u7528-openssh",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"suse",children:"SUSE"}),"\n",(0,r.jsx)(n.h2,{id:"\u7db2\u8def\u8a2d\u5b9a",children:"\u7db2\u8def\u8a2d\u5b9a"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://i.imgur.com/ne9Af1J.png",alt:""})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u5728 system \u7684 network settings \u505a\u8a2d\u5b9a"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://i.imgur.com/9mIGftd.png",alt:""})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u8a2d\u5b9a\u56fa\u5b9a ip"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://i.imgur.com/NYMAeVL.png",alt:""})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u8a2d\u5b9a dns"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://i.imgur.com/GomeOI6.png",alt:""})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u8a2d\u5b9a gateway"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\u5b89\u88dd\u5957\u4ef6",children:"\u5b89\u88dd\u5957\u4ef6"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u5149\u789f\u7247\u4e0d\u80fd\u79fb\u9664\n",(0,r.jsx)(n.img,{src:"https://i.imgur.com/1o7JMq4.png",alt:""})]}),"\n",(0,r.jsx)(n.li,{children:"\u5148\u5230 yast \u7684 software repositories \u6240\u6709\u5957\u4ef6\u90fd\u5148 enable"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-!",children:"# \u65b0\u589e nano \u5957\u4ef6\nrancher@rke2-1:~> wget https://download.opensuse.org/repositories/editors/SLE_15/x86_64/nano-7.2-178.1.x86_64.rpm\nrancher@rke2-1:~> sudo rpm -i nano-7.2-178.1.x86_64.rpm\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-!",children:"# \u5b89\u88dd podman\nrancher@lb:~> sudo zypper ar --refresh https://download.opensuse.org/repositories/Virtualization:/containers/SLE_12_SP5/Virtualization:containers.repo\n\nrancher@lb:~> sudo zypper ref\n\nrancher@lb:~> sudo zypper in podman\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-!",children:"# \u5b89\u88dd brctl & ifconfig \u7db2\u8def\u5de5\u5177\n$ sudo zypper addrepo https://download.opensuse.org/repositories/network:utilities/SLE_15_SP4/network:utilities.repo\n\n$ sudo zypper refresh\n\n$ sudo zypper in -y net-tools-deprecated bridge-utils\n\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"rancher@rke2-1:~> sudo zypper install nano net-tools-deprecated tree\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u5b89\u88dd locate"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"$ sudo zypper in -y mlocate\n\n# \u9700\u8981\u5148\u66f4\u65b0\u8cc7\u6599\u5eab\n$ sudo updatedb\n\n$ locate passwd\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u8a3b\u518a",children:"\u8a3b\u518a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-!",children:'# \u6aa2\u67e5\u81ea\u5df1\u662f\u5426\u6709\u8a3b\u518a\n$ sudo SUSEConnect -s\n[{"identifier":"SLES","version":"15.4","arch":"x86_64","status":"Not Registered"},{"identifier":"sle-module-basesystem","version":"15.4","arch":"x86_64","status":"Not Registered"},{"identifier":"sle-module-server-applications","version":"15.4","arch":"x86_64","status":"Not Registered"},{"identifier":"sle-module-containers","version":"15.4","arch":"x86_64","status":"Not Registered"}]\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"# \u8a3b\u518a\uff0c\u524d\u9762\u662f\u8a3b\u518acode\uff0c\u5f8c\u9762\u662f\u516c\u53f8\u4fe1\u7bb1\n$ sudo SUSEConnect -r REGISTRATION_CODE -e EMAIL_ADDRESS\n\n$ sudo SUSEConnect -r INTERNAL-USE-ONLY-8a84-3057 -e andy.wu@suse.com\n\n# \u6e05\u6389\u8a3b\u518a\n$ sudo SUSEConnect -d\n\n# \u9019\u662f\u5167\u90e8\u7684 rmt server\n# rmt \u4e5f\u662f DNS sever ip:10.12.0.20 or 192.168.11.20 \u8981\u5148\u52a0\u624d\u80fd\u89e3\u6790\u5f97\u5230\uff0c\u76ee\u524d\u53ea\u6709 sles 15 sp4 \u7684 patch\n$ sudo SUSEConnect --url=http://rmt.suselab.tw\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u6aa2\u67e5-io-\u72c0\u614b",children:"\u6aa2\u67e5 I/O \u72c0\u614b"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"$ sudo zypper in -y sysstat\n\n$ iostat -d\nLinux 5.14.21-150400.22-default (rke)   10/18/2023      _x86_64_        (4 CPU)\n\nDevice             tps    kB_read/s    kB_wrtn/s    kB_read    kB_wrtn\nsda             175.28      6594.14      2548.97    3078671    1190065\nscd0              0.09         2.25         0.00       1049          0\n\n# iowait \u8d8a\u9ad8 loading \u8d8a\u9ad8\uff0c 10% \u4ee5\u4e0a\u7b97\u9ad8\uff0c\u76ee\u524d\u662f 2.39%\n$ iostat\nLinux 5.14.21-150400.22-default (rke)   10/18/2023      _x86_64_        (4 CPU)\n\navg-cpu:  %user   %nice %system %iowait  %steal   %idle\n           7.83    0.00    5.75    2.39    0.02   84.00\n\nDevice             tps    kB_read/s    kB_wrtn/s    kB_read    kB_wrtn\nsda             109.07      2551.36      2061.50    3548459    2867161\nscd0              0.03         0.75         0.00       1049          0\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u58d3\u6e2c nginx \u7db2\u8def\u6d41\u91cf"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"# \u653e\u5728 Package Hub\n$ sudo zypper in -y wrk\n\n$ wrk -c 100 -d 10s -t 10 http:192.168.11.55:32251\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u4f7f\u7528 SCC code \u5148\u5728 linux \u8a3b\u518a\n",(0,r.jsx)(n.img,{src:"https://i.imgur.com/8KBzWIe.png",alt:""})]}),"\n",(0,r.jsxs)(n.li,{children:["\u4e4b\u5f8c\u518d\u53bb package \u641c\u5c0b\u8981\u5b89\u88dd\u7684\u5957\u4ef6\n",(0,r.jsx)(n.img,{src:"https://i.imgur.com/MNKC88d.png",alt:""})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"repo-enable",children:"repo enable"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"$ sudo zypper modifyrepo -e '\u5132\u5b58\u5eab\u540d\u7a31'"})}),"\n",(0,r.jsx)(n.h2,{id:"\u628a-rancher-\u52a0\u5165-wheel-\u7fa4\u7d44",children:"\u628a rancher \u52a0\u5165 wheel \u7fa4\u7d44"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"rancher@rke2-1:~> sudo usermod -a -G wheel rancher\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"# \u5c07 andy \u5f9e wheel \u7fa4\u7d44\u79fb\u9664\n$ sudo gpasswd -d andy wheel\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u624b\u52d5\u8a2d\u5b9a\u7db2\u8def-config-\u6a94",children:"\u624b\u52d5\u8a2d\u5b9a\u7db2\u8def config \u6a94"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"$ sudo vim /etc/sysconfig/network/ifcfg-eth0\nIPADDR='192.168.11.109/24'\nBOOTPROTO='static'\nSTARTMODE='auto'\n\n$ sudo vim /etc/sysconfig/network/ifroute-eth0\ndefault 192.168.11.254 - eth0\n"})}),"\n",(0,r.jsx)(n.h2,{id:"kubectl-\u88dc\u9f4a",children:"kubectl \u88dc\u9f4a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"# .bashrc \u52a0\u5165\u9019\u884c kubectl \u5c31\u53ef\u4ee5 tap \u88dc\u9f4a\nrancher@r1:~> cat .bashrc\n\nsource <(kubectl completion bash)\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u8a2d\u5b9a-ntp",children:"\u8a2d\u5b9a NTP"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"tock.stdtime.gov.tw"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://i.imgur.com/XhUEJzR.png",alt:""})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u6aa2\u67e5\u6642\u5340\u8a2d\u5b9a"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-!",children:"$ sudo chronyc sources\nMS Name/IP address         Stratum Poll Reach LastRx Last sample\n===============================================================================\n^- 211-22-103-157.hinet-ip.>     2   6   165    58   -144us[ -144us] +/-   13ms\n^* twtpe2-ntp-002.aaplimg.c>     1   6    77    61    +59us[ +285us] +/- 2089us\n^- 211-22-103-158.hinet-ip.>     2   6   137    58   +156us[ +156us] +/-   25ms\n^- 112-104-189-124.adsl.dyn>     2   6    77    60   +307us[ +307us] +/-   21ms\n^- 218-161-67-206.hinet-ip.>     2   6    77    60    +79us[  +79us] +/-   31ms\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u5efa\u7acb-user",children:"\u5efa\u7acb user"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"rancher@rke2-1:~> sudo useradd -m andy\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u8a2d\u5b9a\u5bc6\u78bc"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"rancher@rke2-1:~> sudo passwd andy\nNew password: \nBAD PASSWORD: it is too short\nBAD PASSWORD: is too simple\nRetype new password: \npasswd: password updated successfully\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u5b89\u88dd\u8207\u555f\u7528-openssh",children:"\u5b89\u88dd\u8207\u555f\u7528 openssh"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-!",children:"rancher@rke2-1:~> sudo zypper refresh\n\nrancher@rke2-1:~> sudo zypper install --no-confirm openssh\n\nrancher@rke2-1:~> sudo systemctl start sshd\n\nrancher@rke2-1:~> sudo systemctl status sshd\n\u25cf sshd.service - OpenSSH Daemon\n   Loaded: loaded (/usr/lib/systemd/system/sshd.service; enabled; vendor preset: disabl>\n   Active: active (running) since Sat 2018-06-02 23:06:28 +08; 41s ago\n Main PID: 10407 (sshd)\n    Tasks: 1\n   CGroup: /system.slice/sshd.service\n           \u2514\u250010407 /usr/sbin/sshd -D\n\nJun 02 23:06:28 linux-tgtg systemd[1]: Starting OpenSSH Daemon...\nJun 02 23:06:28 linux-tgtg sshd-gen-keys-start[10403]: Checking for missing server keys>\nJun 02 23:06:28 linux-tgtg sshd-gen-keys-start[10403]: ssh-keygen: generating new host >\nJun 02 23:06:28 linux-tgtg sshd[10407]: Server listening on 0.0.0.0 port 22.\nJun 02 23:06:28 linux-tgtg sshd[10407]: Server listening on :: port 22.\nJun 02 23:06:28 linux-tgtg systemd[1]: Started OpenSSH Daemon.\n\nrancher@rke2-1:~> sudo systemctl enable sshd\nCreated symlink /etc/systemd/system/multi-user.target.wants/sshd.service \u2192 /usr/lib/systemd/system/sshd.service.\n\n# Enable firewall rule for ssh.\nrancher@rke2-1:~> sudo firewall-cmd --permanent --add-service=ssh\nsuccess\n\n# Reload firewall rules.\nrancher@rke2-1:~> sudo firewall-cmd --reload\nsuccess\n"})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>l});var r=s(6540);const i={},t=r.createContext(i);function d(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);